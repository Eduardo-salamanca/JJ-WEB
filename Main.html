<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>
   JJ-WEB Tetris - Neon Edition
  </title>
  <script src="https://cdn.tailwindcss.com">
  </script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&amp;family=Roboto+Mono&amp;display=swap" rel="stylesheet"/>
  <style>
   body {
      font-family: 'Roboto Mono', monospace;
      background-color: #0f0f1a;
      color: #00fff7;
      text-shadow:
        0 0 5px #00fff7,
        0 0 10px #00fff7,
        0 0 20px #00fff7,
        0 0 40px #00fff7;
    }
    h1, h2 {
      font-family: 'Orbitron', sans-serif;
      color: #00fff7;
      text-shadow:
        0 0 8px #00fff7,
        0 0 15px #00fff7,
        0 0 25px #00fff7,
        0 0 40px #00fff7;
    }
    #tetris {
      image-rendering: pixelated;
      background-color: #0a0a14;
      border: 4px solid #00fff7;
      border-radius: 1rem;
      display: block;
      margin: 0 auto;
      box-shadow:
        0 0 10px #00fff7,
        0 0 20px #00fff7,
        0 0 40px #00fff7,
        inset 0 0 10px #00fff7;
    }
    .scoreboard {
      font-variant-numeric: tabular-nums;
      color: #00fff7;
      text-shadow:
        0 0 5px #00fff7,
        0 0 10px #00fff7;
    }
    button {
      background: transparent;
      border: 2px solid #00fff7;
      color: #00fff7;
      font-weight: 700;
      text-shadow:
        0 0 5px #00fff7,
        0 0 10px #00fff7;
      transition: all 0.3s ease;
      box-shadow:
        0 0 5px #00fff7,
        0 0 10px #00fff7;
    }
    button:hover:not(:disabled) {
      background-color: #00fff7;
      color: #0a0a14;
      box-shadow:
        0 0 15px #00fff7,
        0 0 30px #00fff7,
        0 0 40px #00fff7;
      border-color: #00fff7;
    }
    button:disabled {
      opacity: 0.3;
      cursor: not-allowed;
      box-shadow: none;
      border-color: #004d4d;
      color: #004d4d;
      text-shadow: none;
    }
    nav a {
      color: #00fff7;
      font-weight: 700;
      text-shadow:
        0 0 5px #00fff7,
        0 0 10px #00fff7;
      transition: color 0.3s ease, text-shadow 0.3s ease;
    }
    nav a:hover {
      color: #00fff7;
      text-shadow:
        0 0 15px #00fff7,
        0 0 30px #00fff7,
        0 0 40px #00fff7;
    }
    section {
      background: #0a0a14;
      border-radius: 1rem;
      box-shadow:
        0 0 10px #00fff7,
        inset 0 0 15px #004d4d;
    }
    ul li {
      margin-bottom: 0.5rem;
      line-height: 1.5;
      color: #00fff7;
      text-shadow:
        0 0 3px #00fff7;
    }
    ul li span.font-bold {
      color: #00fff7;
      text-shadow:
        0 0 8px #00fff7,
        0 0 15px #00fff7;
    }
    footer {
      background-color: #001f1f;
      color: #00fff7;
      text-shadow:
        0 0 5px #00fff7,
        0 0 10px #00fff7;
      font-weight: 600;
      letter-spacing: 0.05em;
    }
  </style>
 </head>
 <body class="min-h-screen flex flex-col">
  <header class="bg-transparent shadow-lg">
   <div class="container mx-auto px-6 py-6 flex justify-between items-center">
    <h1 class="text-4xl font-extrabold tracking-widest select-none">
     JJ-WEB
    </h1>
    <nav class="space-x-8 text-xl font-bold tracking-wide">
     <a class="hover:underline" href="#game">
      Play Tetris
     </a>
     <a class="hover:underline" href="#instructions">
      Instructions
     </a>
     <a class="hover:underline" href="#about">
      About
     </a>
    </nav>
   </div>
  </header>
  <main class="flex-grow container mx-auto px-6 py-10 flex flex-col items-center gap-16">
   <section aria-label="Tetris game section" class="w-full max-w-md" id="game" role="region">
    <h2 class="text-5xl font-extrabold mb-8 text-center select-none tracking-widest">
     Play Tetris
    </h2>
    <canvas aria-atomic="true" aria-describedby="score level lines" aria-label="Tetris game board" aria-live="polite" height="400" id="tetris" role="img" tabindex="0" width="240">
    </canvas>
    <div class="mt-8 flex justify-between items-center text-2xl font-extrabold scoreboard tracking-widest">
     <div>
      Score:
      <span aria-atomic="true" aria-live="polite" class="ml-2" id="score">
       0
      </span>
     </div>
     <div>
      Level:
      <span aria-atomic="true" aria-live="polite" class="ml-2" id="level">
       1
      </span>
     </div>
     <div>
      Lines:
      <span aria-atomic="true" aria-live="polite" class="ml-2" id="lines">
       0
      </span>
     </div>
    </div>
    <div class="mt-8 flex justify-center space-x-6">
     <button aria-label="Start game" class="rounded-lg px-8 py-3 focus:outline-none focus:ring-4 focus:ring-cyan-400" id="startBtn" type="button">
      Start
     </button>
     <button aria-label="Pause game" class="rounded-lg px-8 py-3 focus:outline-none focus:ring-4 focus:ring-cyan-400" disabled="" id="pauseBtn" type="button">
      Pause
     </button>
     <button aria-label="Reset game" class="rounded-lg px-8 py-3 focus:outline-none focus:ring-4 focus:ring-red-400" disabled="" id="resetBtn" type="button">
      Reset
     </button>
    </div>
   </section>
   <section aria-label="Instructions section" class="w-full max-w-3xl px-8 py-10" id="instructions" role="region">
    <h2 class="text-4xl font-extrabold mb-6 select-none tracking-wide">
     Instructions
    </h2>
    <ul class="list-disc list-inside space-y-3 text-xl leading-relaxed">
     <li>
      Use the
      <span class="font-extrabold text-cyan-400">
       Left
      </span>
      and
      <span class="font-extrabold text-cyan-400">
       Right
      </span>
      arrow keys to move the tetromino horizontally.
     </li>
     <li>
      Use the
      <span class="font-extrabold text-cyan-400">
       Up
      </span>
      arrow key to rotate the tetromino clockwise.
     </li>
     <li>
      Use the
      <span class="font-extrabold text-cyan-400">
       Down
      </span>
      arrow key to move the tetromino down faster.
     </li>
     <li>
      Press the
      <span class="font-extrabold text-cyan-400">
       Spacebar
      </span>
      to instantly drop the tetromino to the bottom.
     </li>
     <li>
      Clear lines by filling them completely to score points and level up.
     </li>
     <li>
      The game speeds up as you level up, so stay sharp!
     </li>
     <li>
      Click
      <span class="font-extrabold text-cyan-400">
       Start
      </span>
      to begin playing,
      <span class="font-extrabold text-cyan-400">
       Pause
      </span>
      to pause, and
      <span class="font-extrabold text-cyan-400">
       Reset
      </span>
      to restart the game.
     </li>
    </ul>
   </section>
   <section aria-label="About section" class="w-full max-w-3xl px-8 py-10" id="about" role="region">
    <h2 class="text-4xl font-extrabold mb-6 select-none tracking-wide">
     About JJ-WEB Tetris
    </h2>
    <p class="text-xl leading-relaxed max-w-prose mx-auto">
     JJ-WEB Tetris is a classic block-stacking game implemented with modern web technologies.
     Built using HTML5 Canvas and Tailwind CSS, it offers a smooth and responsive experience on all devices.
     The game logic is written in vanilla JavaScript, providing a lightweight and fast gameplay.
    </p>
    <p class="mt-6 text-xl leading-relaxed max-w-prose mx-auto">
     Enjoy playing Tetris directly in your browser without any installations or plugins.
     This project is perfect for both casual players and those who want to practice their coding skills by exploring the source code.
    </p>
    <img alt="Illustration of colorful neon glowing Tetris blocks falling inside a dark futuristic game scene with vibrant blue and cyan neon lights" class="mt-8 rounded-3xl shadow-[0_0_30px_#00fff7]" height="300" src="https://storage.googleapis.com/a1aa/image/21f5a5cf-316a-4ce3-b219-c72cca739115.jpg" width="600"/>
   </section>
  </main>
  <footer class="py-6 mt-16">
   <div class="container mx-auto px-6 text-center text-sm select-none tracking-widest">
    Â© 2024 JJ-WEB. All rights reserved.
   </div>
  </footer>
  <script>
   const canvas = document.getElementById('tetris');
    const context = canvas.getContext('2d');
    context.scale(20, 20);

    // Neon colors with distinct glow for each tetromino block type
    const colors = [
      null,
      '#00f0ff', // Neon Blue - I
      '#ff6a00', // Neon Orange - L
      '#7fff00', // Neon Lime - S
      '#ff00a8', // Neon Pink - Z
      '#00fff7', // Neon Cyan - T
      '#fff500', // Neon Yellow - O
      '#ff004c', // Neon Red - J
    ];

    const arenaWidth = 12;
    const arenaHeight = 20;

    function createMatrix(w, h) {
      const matrix = [];
      while (h--) {
        matrix.push(new Array(w).fill(0));
      }
      return matrix;
    }

    function createPiece(type) {
      switch (type) {
        case 'I':
          return [
            [0, 0, 0, 0],
            [1, 1, 1, 1],
            [0, 0, 0, 0],
            [0, 0, 0, 0],
          ];
        case 'L':
          return [
            [0, 2, 0],
            [0, 2, 0],
            [0, 2, 2],
          ];
        case 'J':
          return [
            [0, 0, 3],
            [0, 0, 3],
            [0, 3, 3],
          ];
        case 'O':
          return [
            [4, 4],
            [4, 4],
          ];
        case 'Z':
          return [
            [5, 5, 0],
            [0, 5, 5],
            [0, 0, 0],
          ];
        case 'S':
          return [
            [0, 6, 6],
            [6, 6, 0],
            [0, 0, 0],
          ];
        case 'T':
          return [
            [0, 7, 0],
            [7, 7, 7],
            [0, 0, 0],
          ];
      }
    }

    function drawMatrix(matrix, offset) {
      matrix.forEach((row, y) => {
        row.forEach((value, x) => {
          if (value !== 0) {
            // Neon glow effect per block color
            context.shadowColor = colors[value];
            context.shadowBlur = 18;
            context.fillStyle = colors[value];
            context.fillRect(x + offset.x, y + offset.y, 1, 1);
            context.shadowBlur = 0;
            context.strokeStyle = '#00fff7';
            context.lineWidth = 0.07;
            context.strokeRect(x + offset.x, y + offset.y, 1, 1);
          }
        });
      });
    }

    function merge(arena, player) {
      player.matrix.forEach((row, y) => {
        row.forEach((value, x) => {
          if (value !== 0) {
            arena[y + player.pos.y][x + player.pos.x] = value;
          }
        });
      });
    }

    function collide(arena, player) {
      const m = player.matrix;
      const o = player.pos;
      for (let y = 0; y < m.length; ++y) {
        for (let x = 0; x < m[y].length; ++x) {
          if (
            m[y][x] !== 0 &&
            (arena[y + o.y] && arena[y + o.y][x + o.x]) !== 0
          ) {
            return true;
          }
        }
      }
      return false;
    }

    function rotate(matrix, dir) {
      for (let y = 0; y < matrix.length; ++y) {
        for (let x = 0; x < y; ++x) {
          [matrix[x][y], matrix[y][x]] = [matrix[y][x], matrix[x][y]];
        }
      }
      if (dir > 0) {
        matrix.forEach(row => row.reverse());
      } else {
        matrix.reverse();
      }
    }

    function arenaSweep() {
      let rowCount = 1;
      outer: for (let y = arena.length - 1; y >= 0; --y) {
        for (let x = 0; x < arena[y].length; ++x) {
          if (arena[y][x] === 0) {
            continue outer;
          }
        }
        const row = arena.splice(y, 1)[0].fill(0);
        arena.unshift(row);
        ++y;

        player.score += rowCount * 10;
        player.lines++;
        if (player.lines % 10 === 0) {
          player.level++;
          dropInterval = Math.max(100, dropInterval - 50);
        }
        rowCount *= 2;
      }
    }

    function draw() {
      // Dark background with subtle neon glow
      context.fillStyle = '#0a0a14';
      context.fillRect(0, 0, canvas.width / 20, canvas.height / 20);

      drawMatrix(arena, { x: 0, y: 0 });
      drawMatrix(player.matrix, player.pos);
    }

    function updateScore() {
      document.getElementById('score').textContent = player.score;
      document.getElementById('level').textContent = player.level;
      document.getElementById('lines').textContent = player.lines;
    }

    function playerDrop() {
      player.pos.y++;
      if (collide(arena, player)) {
        player.pos.y--;
        merge(arena, player);
        arenaSweep();
        resetPlayer();
        updateScore();
      }
      dropCounter = 0;
    }

    function playerMove(dir) {
      player.pos.x += dir;
      if (collide(arena, player)) {
        player.pos.x -= dir;
      }
    }

    function playerRotate(dir) {
      const pos = player.pos.x;
      let offset = 1;
      rotate(player.matrix, dir);
      while (collide(arena, player)) {
        player.pos.x += offset;
        offset = -(offset + (offset > 0 ? 1 : -1));
        if (offset > player.matrix[0].length) {
          rotate(player.matrix, -dir);
          player.pos.x = pos;
          return;
        }
      }
    }

    function resetPlayer() {
      const pieces = 'ILJOSZT';
      player.matrix = createPiece(pieces[(pieces.length * Math.random()) | 0]);
      player.pos.y = 0;
      player.pos.x = ((arenaWidth / 2) | 0) - ((player.matrix[0].length / 2) | 0);
      if (collide(arena, player)) {
        arena.forEach(row => row.fill(0));
        player.score = 0;
        player.level = 1;
        player.lines = 0;
        updateScore();
        gameOver();
      }
    }

    function gameOver() {
      isRunning = false;
      startBtn.disabled = false;
      pauseBtn.disabled = true;
      resetBtn.disabled = true;
      alert('Game Over! Press Start to play again.');
    }

    let dropCounter = 0;
    let dropInterval = 1000;
    let lastTime = 0;
    let isRunning = false;

    function update(time = 0) {
      if (!isRunning) return;
      const deltaTime = time - lastTime;
      lastTime = time;

      dropCounter += deltaTime;
      if (dropCounter > dropInterval) {
        playerDrop();
      }

      draw();
      requestAnimationFrame(update);
    }

    const arena = createMatrix(arenaWidth, arenaHeight);

    const player = {
      pos: { x: 0, y: 0 },
      matrix: null,
      score: 0,
      level: 1,
      lines: 0,
    };

    const startBtn = document.getElementById('startBtn');
    const pauseBtn = document.getElementById('pauseBtn');
    const resetBtn = document.getElementById('resetBtn');

    startBtn.addEventListener('click', () => {
      if (!isRunning) {
        isRunning = true;
        startBtn.disabled = true;
        pauseBtn.disabled = false;
        resetBtn.disabled = false;
        resetGame();
        updateScore();
        update();
      }
    });

    pauseBtn.addEventListener('click', () => {
      if (isRunning) {
        isRunning = false;
        pauseBtn.textContent = 'Resume';
      } else {
        isRunning = true;
        pauseBtn.textContent = 'Pause';
        lastTime = performance.now();
        update();
      }
    });

    resetBtn.addEventListener('click', () => {
      isRunning = false;
      startBtn.disabled = false;
      pauseBtn.disabled = true;
      pauseBtn.textContent = 'Pause';
      resetBtn.disabled = true;
      resetGame();
      draw();
      updateScore();
    });

    function resetGame() {
      arena.forEach(row => row.fill(0));
      player.score = 0;
      player.level = 1;
      player.lines = 0;
      dropInterval = 1000;
      resetPlayer();
    }

    document.addEventListener('keydown', event => {
      if (!isRunning) return;
      if (event.repeat) return;
      switch (event.key) {
        case 'ArrowLeft':
          playerMove(-1);
          break;
        case 'ArrowRight':
          playerMove(1);
          break;
        case 'ArrowDown':
          playerDrop();
          break;
        case 'ArrowUp':
          playerRotate(1);
          break;
        case ' ':
          event.preventDefault();
          while (!collide(arena, player)) {
            player.pos.y++;
          }
          player.pos.y--;
          merge(arena, player);
          arenaSweep();
          resetPlayer();
          updateScore();
          dropCounter = 0;
          break;
      }
      draw();
    });

    draw();
  </script>
 </body>
</html>
